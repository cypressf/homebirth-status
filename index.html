<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Is Brenda Home?</title>
    <style>
        html {
            height: 100%
        }

        body {
            height: 100%;
            border: 0;
            margin: 0;
        }

        #container {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font: 3em sans-serif;
            text-align: center;
        }

        .home {
            background: #b1ed83;
        }

        .away {
            background: #ffbb9c;
        }
    </style>
</head>

<body>
    <div id="container">
        <p id="status">loading...</p>
    </div>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-app.js";

        // Add Firebase products that you want to use
        import { getAuth } from 'https://www.gstatic.com/firebasejs/9.9.3/firebase-auth.js'
        import { getFirestore, collection, getDocs } from 'https://www.gstatic.com/firebasejs/9.9.3/firebase-firestore.js'

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCeC10l1RvxYCd08bkJWMfYWN7MyIGUSEw",
            authDomain: "lawrence-homebirth.firebaseapp.com",
            projectId: "lawrence-homebirth",
            storageBucket: "lawrence-homebirth.appspot.com",
            messagingSenderId: "1031212041802",
            appId: "1:1031212041802:web:56e12a6868831dc61348b3"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const statusHtml = document.getElementById('status');
        const containerHtml = document.getElementById('container');
        const db = getFirestore(app);
        const query = await getDocs(collection(db, 'status'));
        query.forEach(status => {
            const isHome = status.data().home;
            console.log(isHome);
            if (isHome) {
                statusHtml.innerHTML = '&check; Home';
                containerHtml.className = 'home';
            } else {
                statusHtml.innerHTML = '&cross; Away';
                containerHtml.className = 'away';
            }
        })
    </script>
</body>

</html>